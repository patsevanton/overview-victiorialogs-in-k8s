apiVersion: operator.victoriametrics.com/v1beta1
kind: VMRule
metadata:
  name: oomkilled
  namespace: vmks
spec:
  groups:
  - name: oomkilled
    rules:
    - alert: ServiceOOMKiller
      annotations:
        description: OOMKilled
      expr: |
        sum(increase(kube_pod_container_status_last_terminated_reason{reason="OOMKilled"}[1m]))
        or vector(0)
      for: 1m
