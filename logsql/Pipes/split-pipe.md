### Разделение строки (split pipe)

Конструкция  
```
<q> | split <separator> from <src_field> as <dst_field>
```  
разделяет поле журнала `<src_field>` (полученное из результатов запроса `<q>`) на элементы по заданному разделителю `<separator>` и сохраняет результат в поле `<dst_field>` в виде JSON‑массива.

**Пример:** следующий запрос разделяет сообщения журнала по символу `,` и сохраняет результаты в поле `items`:
```logsql
_time:5m | split "," from _msg as items
```

- Часть `as <dst_field>` **необязательна**. Если она отсутствует, результат записывается в поле `<src_field>`, указанное в `from <src_field>`.  
  **Пример:** результат разделения сохраняется в поле `_msg`:
  ```logsql
  _time:5m | split "," from _msg
  ```

- Часть `from <src_field>` **также необязательна**. Если она не указана, в качестве исходного поля используется `_msg`.  
  **Пример:** эквивалентный предыдущему запрос:
  ```logsql
  _time:5m | split ","
  ```

Для развёртывания JSON‑массива с результатами разделения удобно использовать оператор [`unroll` pipe](https://docs.victoriametrics.com/victorialogs/logsql/#unroll-pipe).  

**Пример:** следующий запрос возвращает 5 наиболее часто встречающихся элементов, разделённых запятой, в сообщениях журнала за последние 5 минут:
```logsql
_time:5m | split "," as items | unroll items | top 5 (items)
```
