### Pipe `unroll`

Pipe ``<q> | unroll by (field1, ..., fieldN)`` можно использовать для разворачивания JSON-массивов из `полей лога` `field1`, …, `fieldN` в результатах `запроса` `<q>` в отдельные строки.

Например, следующий запрос разворачивает `поля лога` `timestamp` и `value` из логов за последние 5 минут:

```logsql
_time:5m | unroll (timestamp, value)
```

Если разворачиваемый JSON-массив содержит JSON-объекты, то может быть удобно использовать pipe ``unpack_json`` для распаковки элементов массива в отдельные поля для дальнейшей обработки.


### Условный `unroll`

Если pipe ``unroll`` нужно применять только к некоторым `записям лога`, то после `unroll` добавляется `if (<filters>)`.

`<filters>` может содержать произвольные `фильтры`. Например, следующий запрос разворачивает поле `value` только в том случае, если поле `value_type` равно `json_array`:

```logsql
_time:5m | unroll if (value_type:="json_array") (value)
```
