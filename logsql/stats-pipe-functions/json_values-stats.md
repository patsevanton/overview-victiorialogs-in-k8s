### stats-функция `json_values`

Функция stats-конвейера `json_values(field1, ..., fieldN)` упаковывает указанные поля в JSON для каждой записи лога и возвращает JSON-массив,
который можно развернуть с помощью конвейера ``unroll``.

Например, следующий запрос возвращает для каждого `app` JSON-массивы, содержащие поля ``_time``
и ``_msg`` за последние 5 минут:

```logsql
_time:5m | stats by (app) json_values(_time, _msg) as json_logs
```

Если список полей пуст, то все поля логов кодируются в JSON-массив:

```logsql
_time:5m | stats json_values() as json_logs
```

Можно выбирать значения с заданным префиксом, используя синтаксис `json_values(prefix*)`.

Также можно задать верхний предел количества логов, закодированных в JSON, с помощью суффикса `limit N`. Например, следующий запрос
возвращает до 3 JSON-закодированных логов для каждого `host`:

```logsql
_time:5m | stats by (host) json_values() limit 3 as json_logs
```

Можно отсортировать выбранные записи логов, добавив `sort by (...)`. Например, следующий запрос возвращает для каждого `host` логи
за последние 5 минут, отсортированные по убыванию поля ``_time``:

```logsql
_time:5m | stats by (host) json_values() sort by (_time desc) as json_logs
```

Конструкция `sort by (...)` позволяет выбирать top-N логов для каждой группы при использовании вместе с `limit N`. Например, следующий запрос выбирает до 3 самых свежих логов для каждого `host`
за последние 5 минут:

```logsql
_time:5m | stats by (host) json_values() sort by (_time desc) limit 3 as json_logs
```
