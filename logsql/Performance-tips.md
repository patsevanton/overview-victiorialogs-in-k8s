## Советы по повышению производительности

- **Обязательно указывайте фильтр по времени** (time filter), чтобы ограничить поиск конкретным временным диапазоном.
- **Обязательно указывайте фильтр по потокам** (stream filter), чтобы сузить поиск до конкретных потоков логов (log streams).
- **Указывайте нужные поля логов** в результатах запроса с помощью оператора `fields` (fields pipe), если выбранные записи логов содержат много полей, которые вам не интересны. Это сокращает операции ввода‑вывода на диске и нагрузку на CPU, необходимую для чтения и распаковки всех полей логов с диска.
- **Размещайте более быстрые фильтры** (например, фильтр по слову — word filter и фильтр по фразе — phrase filter) **в начале запроса**.  
  Это правило **не относится** к фильтрам по времени (time filter) и по потокам (stream filter) — их можно размещать в любой части запроса.
- **Ставьте в начало запроса более специфичные фильтры**, которые отбирают меньшее число записей логов.  
  Это правило также **не относится** к фильтрам по времени и по потокам — их позиция в запросе не критична.
- **Если отобранные логи передаются в операторы** (pipes) для дальнейшей обработки и расчёта статистики, **старайтесь сократить число отобранных логов** за счёт более точных фильтров (filters), возвращающих меньше записей для обработки операторами (pipes).
- **Если логи хранятся в системах хранения с высокой задержкой** (например, NFS или S3), **увеличьте число параллельных читателей** — это может улучшить производительность запросов. Подробности см. в документации по параметру `parallel_readers` (parallel_readers query option).

См. также раздел **устранение неполадок с производительностью запросов** (query performance troubleshooting).
