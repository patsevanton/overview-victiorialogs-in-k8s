### Фильтр по фразе

Если вам нужно найти в логах сообщения, содержащие определённую фразу, просто заключите эту фразу в кавычки — согласно `документации`.

Фраза может включать любые символы — в том числе пробелы, знаки препинания, скобки и т. д. Все они учитываются при поиске.

Например, следующий запрос найдёт `сообщения логов`, содержащие фразу `ssh: login fail`:

```logsql
"ssh: login fail"
```

Этот запрос совпадет со следующими `сообщениями логов`:

- `ERROR: ssh: login fail for user "foobar"`
- `ssh: login fail!`

Этот запрос **не совпадет** со следующими сообщениями логов:

- `ssh login fail` — в сообщении отсутствует символ `:` сразу после `ssh`.  
  Если нужно найти сообщения с последовательностью этих слов, используйте запрос `seq("ssh", "login", "fail")`. Подробнее — в `документации`.
- `login fail: ssh error` — в сообщении нет полной фразы, указанной в запросе.  
  Если нужно найти сообщение, содержащее **все** `слова` из запроса, используйте `ssh AND login AND fail`. Подробнее — в `документации`.
- `ssh: login failed` — в сообщении слово `failed`, а не `fail`.  
  Для такого случая используйте запрос `"ssh: login fail"*`. Подробнее — в `документации`.
- `SSH: login fail` — слово `SSH` написано заглавными буквами.  
  Для поиска без учёта регистра используйте `i("ssh: login fail")`. Подробнее — в `документации`.

Если фраза содержит двойные кавычки, поставьте перед ними обратный слэш `\` либо заключите всю фразу в одинарные кавычки. Например, следующий фильтр ищет логи с фразой `"foo":"bar"`:

```logsql
'"foo":"bar"'
```

По умолчанию указанная фраза ищется в поле ``_msg``.

Чтобы искать фразу в конкретном поле, укажите имя поля перед фразой и поставьте после него двоеточие. Например, следующий запрос вернёт записи логов, содержащие фразу `cannot open file` в поле `event.original`:

```logsql
event.original:"cannot open file"
```

И имя поля, и фраза могут содержать любые символы в кодировке `UTF‑8`. Например:

```logsql
შეტყობინება:"Το αρχείο δεν μπορεί να ανοίξει"
```

Имя поля можно заключить в кавычки, если оно содержит специальные символы, которые могут конфликтовать с синтаксисом запроса.

Например, следующий запрос ищет фразу `cannot open file` в поле `some:message`:

```logsql
"some:message":"cannot open file"
```
