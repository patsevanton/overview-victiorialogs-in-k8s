### Фильтр сопоставления с шаблоном

VictoriaLogs поддерживает фильтрацию логов по шаблонам с помощью фильтра `pattern_match("шаблон")`. Этот фильтр отбирает записи логов, в которых поле [`_msg`](https://docs.victoriametrics.com/victorialogs/keyconcepts/#message-field) содержит указанный `"шаблон"`.

Фильтр можно применить к любому полю лога с помощью синтаксиса `поле_лога:pattern_match("шаблон")`.

`"Шаблон"` должен содержать искомый текст, а также произвольное количество следующих плейсхолдеров:

- `<N>` — соответствует любому целому числу. Также подходит для шестнадцатеричных чисел длиной от 4 символов. Например, подходит для `123` и `12abcdEF`.  
  Не подходит для чисел с плавающей точкой, таких как `123.456`. Для них используйте шаблон `<N>.<N>`.
- `<UUID>` — соответствует любому UUID, например `2edfed59-3e98-4073-bbb2-28d321ca71a7`.
- `<IP4>` — соответствует IPv4‑адресам, например `123.45.67.89`. Для масок IPv4 используйте `<IP4>/<N>`.
- `<TIME>` — соответствует строкам времени, например `10:20:30`. Также захватывает дробные секунды: `10:20:30.123` и `10:20:30,123`.
- `<DATE>` — соответствует строкам даты, например `2025-10-20` и `2025/10/20`.
- `<DATETIME>` — соответствует строкам даты и времени, например `2025-10-20T08:09:11` и `2025-10-20 08:09:11`. Также захватывает дробные секунды и часовые пояса.
- `<W>` — соответствует любому [слову](#word) или любой строке в одинарных, двойных кавычках или обратных кавычках.

Такие шаблоны генерируются с помощью конвейера [`collapse_nums`](https://docs.victoriametrics.com/victorialogs/logsql/#collapse_nums-pipe).

**Пример**: следующий фильтр отбирает записи, где поле `_msg` содержит текст `<произвольный_префикс>user_id=123, ip=45.67.89.12, time=2025-10-20T23:32:12Z<произвольный_суффикс>`:

```logsql
pattern_match("user_id=<N>, ip=<IP4>, time=<DATETIME>")
```

Если нужно сопоставить **всё** значение поля `_msg`, используйте фильтр `pattern_match_full("шаблон")`.

См. также:

- [Конвейер `collapse_nums`](https://docs.victoriametrics.com/victorialogs/logsql/#collapse_nums-pipe)
- [Фильтр последовательности](https://docs.victoriametrics.com/victorialogs/logsql/#sequence-filter)
- [Фильтр фраз](https://docs.victoriametrics.com/victorialogs/logsql/#phrase-filter)
- [Фильтр подстроки](https://docs.victoriametrics.com/victorialogs/logsql/#substring-filter)
- [Логический фильтр](https://docs.victoriametrics.com/victorialogs/logsql/#logical-filter)
